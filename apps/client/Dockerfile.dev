# Development Dockerfile for AssetSim Pro Client
# This runs Angular dev server with hot reload via bind mounts

FROM node:22-alpine

WORKDIR /app

# Copy package files
COPY package*.json ./

# Install dependencies (will be overridden by bind mount in docker-compose)
RUN npm ci --legacy-peer-deps

# Expose Angular dev server port
EXPOSE 4200

# Set environment variable for Kendo UI license
ENV KENDO_UI_LICENSE=${KENDO_UI_LICENSE}

# Start Angular dev server with host binding for Docker accessibility
CMD ["npx", "nx", "serve", "client", "--host", "0.0.0.0", "--disable-host-check", "--poll=2000"]
